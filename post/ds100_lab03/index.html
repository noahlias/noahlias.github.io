<!doctype html><html lang=en><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge,chrome=1"><title>Lab03_WriteUp - Alias's Blog</title><meta name=renderer content="webkit"><meta name=viewport content="width=device-width,initial-scale=1,maximum-scale=1"><meta http-equiv=cache-control content="no-transform"><meta http-equiv=cache-control content="no-siteapp"><meta name=theme-color content="#f8f5ec"><meta name=msapplication-navbutton-color content="#f8f5ec"><meta name=apple-mobile-web-app-capable content="yes"><meta name=apple-mobile-web-app-status-bar-style content="#f8f5ec"><meta name=author content="Alias"><meta name=description content="Question 1 Question 1a For a DataFrame d, you can add a column with d['new column name'] = ... and assign a list or array of values to the column. Add a column of integers containing 1, 2, 3, and 4 called rank1 to the fruit_info table which expresses your personal preference about the taste ordering for each fruit (1 is tastiest; 4 is least tasty).
Question 1b You can also add a column to d with d."><meta name=keywords content="Coding,Blog,Life"><meta name=generator content="Hugo 0.110.0 with theme even"><link rel=canonical href=https://noahlias.github.io/post/ds100_lab03/><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=manifest href=/manifest.json><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link href=/sass/main.min.f92fd13721ddf72129410fd8250e73152cc6f2438082b6c0208dc24ee7c13fc4.css rel=stylesheet><meta property="og:title" content="Lab03_WriteUp"><meta property="og:description" content="Question 1 Question 1a For a DataFrame d, you can add a column with d['new column name'] = ... and assign a list or array of values to the column. Add a column of integers containing 1, 2, 3, and 4 called rank1 to the fruit_info table which expresses your personal preference about the taste ordering for each fruit (1 is tastiest; 4 is least tasty).
Question 1b You can also add a column to d with d."><meta property="og:type" content="article"><meta property="og:url" content="https://noahlias.github.io/post/ds100_lab03/"><meta property="article:section" content="post"><meta property="article:published_time" content="2022-11-16T00:19:03+08:00"><meta property="article:modified_time" content="2022-11-16T00:19:03+08:00"><meta itemprop=name content="Lab03_WriteUp"><meta itemprop=description content="Question 1 Question 1a For a DataFrame d, you can add a column with d['new column name'] = ... and assign a list or array of values to the column. Add a column of integers containing 1, 2, 3, and 4 called rank1 to the fruit_info table which expresses your personal preference about the taste ordering for each fruit (1 is tastiest; 4 is least tasty).
Question 1b You can also add a column to d with d."><meta itemprop=datePublished content="2022-11-16T00:19:03+08:00"><meta itemprop=dateModified content="2022-11-16T00:19:03+08:00"><meta itemprop=wordCount content="490"><meta itemprop=keywords content="Pandas,DataFrame,Writeup,"><meta name=twitter:card content="summary"><meta name=twitter:title content="Lab03_WriteUp"><meta name=twitter:description content="Question 1 Question 1a For a DataFrame d, you can add a column with d['new column name'] = ... and assign a list or array of values to the column. Add a column of integers containing 1, 2, 3, and 4 called rank1 to the fruit_info table which expresses your personal preference about the taste ordering for each fruit (1 is tastiest; 4 is least tasty).
Question 1b You can also add a column to d with d."><!--[if lte IE 9]><script src=https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js></script><![endif]--><!--[if lt IE 9]><script src=https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js></script>
<script src=https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js></script><![endif]--></head><body><div id=mobile-navbar class=mobile-navbar><div class=mobile-header-logo><a href=/ class=logo>Alias</a></div><div class=mobile-navbar-icon><span></span>
<span></span>
<span></span></div></div><nav id=mobile-menu class="mobile-menu slideout-menu"><ul class=mobile-menu-list><a href=/><li class=mobile-menu-item>Home</li></a><a href=/post/><li class=mobile-menu-item>Archives</li></a><a href=/tags/><li class=mobile-menu-item>Tags</li></a><a href=/categories/><li class=mobile-menu-item>Categories</li></a><a href=/about/><li class=mobile-menu-item>About</li></a></ul></nav><div class=container id=mobile-panel><header id=header class=header><div class=logo-wrapper><a href=/ class=logo>Alias</a></div><nav class=site-navbar><ul id=menu class=menu><li class=menu-item><a class=menu-item-link href=/>Home</a></li><li class=menu-item><a class=menu-item-link href=/post/>Archives</a></li><li class=menu-item><a class=menu-item-link href=/tags/>Tags</a></li><li class=menu-item><a class=menu-item-link href=/categories/>Categories</a></li><li class=menu-item><a class=menu-item-link href=/about/>About</a></li></ul></nav></header><main id=main class=main><div class=content-wrapper><div id=content class=content><article class=post><header class=post-header><h1 class=post-title>Lab03_WriteUp</h1><div class=post-meta><span class=post-time>2022-11-16</span><div class=post-category><a href=/categories/ds100/>DS100</a></div></div></header><div class=post-toc id=post-toc><h2 class=post-toc-title>Contents</h2><div class=post-toc-content><nav id=TableOfContents><ul><li><ul><li><a href=#question-1>Question 1</a><ul><li><a href=#question-1a>Question 1a</a></li><li><a href=#question-1b>Question 1b</a></li></ul></li><li><a href=#question-2>Question 2</a></li><li><a href=#question-3>Question 3</a></li><li><a href=#question-4>Question 4</a></li><li><a href=#question-5>Question 5</a></li><li><a href=#question-6>Question 6</a></li></ul></li></ul></nav></div></div><div class=post-content><a target=_blank href=https://colab.research.google.com/github/DS-100/fa20/blob/master/lab/lab03/lab03.ipynb><img src=https://colab.research.google.com/assets/colab-badge.svg alt="Open In Colab"></a><h2 id=question-1>Question 1</h2><h3 id=question-1a>Question 1a</h3><p>For a DataFrame <code>d</code>, you can add a column with <code>d['new column name'] = ...</code> and assign a list or array of values to the column. Add a column of integers containing 1, 2, 3, and 4 called <code>rank1</code> to the <code>fruit_info</code> table which expresses your personal preference about the taste ordering for each fruit (1 is tastiest; 4 is least tasty).</p><p><img src=/plot/lab03_q1a.jpg alt=question1a></p><h3 id=question-1b>Question 1b</h3><p>You can also add a column to <code>d</code> with <code>d.loc[:, 'new column name'] = ...</code>. As discussed in lecture, the first parameter is for the rows and second is for columns. The <code>:</code> means change all rows and the <code>new column name</code> indicates the column you are modifying (or in this case, adding).</p><p>Add a column called <code>rank2</code> to the <code>fruit_info</code> table which contains the same values in the same order as the <code>rank1</code> column.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>fruit_info</span><span class=o>.</span><span class=n>loc</span><span class=p>[:,</span><span class=s1>&#39;rank2&#39;</span><span class=p>]</span> <span class=o>=</span> <span class=n>fruit_info</span><span class=p>[</span><span class=s1>&#39;rank1&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=n>fruit_info</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=question-2>Question 2</h2><p>Use the <code>.drop()</code> method to <a href=https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.drop.html>drop</a> both the <code>rank1</code> and <code>rank2</code> columns you created. (Make sure to use the <code>axis</code> parameter correctly.) Note that <code>drop</code> does not change a table, but instead returns a new table with fewer columns or rows unless you set the optional <code>inplace</code> parameter.</p><p><em>Hint</em>: Look through the documentation to see how you can drop multiple columns of a Pandas dataframe at once using a list of column names.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>fruit_info_original</span> <span class=o>=</span> <span class=n>fruit_info</span><span class=o>.</span><span class=n>drop</span><span class=p>([</span><span class=s1>&#39;rank1&#39;</span><span class=p>,</span><span class=s1>&#39;rank2&#39;</span><span class=p>],</span><span class=n>axis</span><span class=o>=</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>fruit_info_original</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=question-3>Question 3</h2><p>Use the <code>.rename()</code> method to <a href=https://pandas.pydata.org/pandas-docs/stable/generated/pandas.DataFrame.rename.html>rename</a> the columns of <code>fruit_info_original</code> so they begin with capital letters. Set this new dataframe to <code>fruit_info_caps</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>fruit_info_caps</span> <span class=o>=</span> <span class=n>fruit_info_original</span><span class=o>.</span><span class=n>rename</span><span class=p>(</span><span class=n>columns</span><span class=o>=</span><span class=nb>str</span><span class=o>.</span><span class=n>capitalize</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>fruit_info_caps</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=question-4>Question 4</h2><p><a href=https://www.ssa.gov/oact/babynames/state/namesbystate.zip>dataset</a></p><p>Selecting multiple columns is easy. You just need to supply a list of column names. Select the <code>Name</code> and <code>Year</code> <strong>in that order</strong> from the <code>baby_names</code> table.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>name_and_year</span> <span class=o>=</span> <span class=n>baby_names</span><span class=p>[[</span><span class=s1>&#39;Name&#39;</span><span class=p>,</span><span class=s1>&#39;Year&#39;</span><span class=p>]]</span>
</span></span><span class=line><span class=cl><span class=n>name_and_year</span><span class=p>[:</span><span class=mi>5</span><span class=p>]</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=question-5>Question 5</h2><p>Using a boolean array, select the names in Year 2000 (from <code>baby_names</code>) that have larger than 3000 counts. Keep all columns from the original <code>baby_names</code> dataframe.</p><p>Note: Any time you use <code>p & q</code> to filter the dataframe, make sure to use <code>df[(df[p]) & (df[q])]</code> or <code>df.loc[(df[p]) & (df[q])]</code>. That is, make sure to wrap conditions with parentheses.</p><p><strong>Remember</strong> that both slicing and <code>loc</code> will achieve the same result, it is just that <code>loc</code> is typically faster in production. You are free to use whichever one you would like.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>result</span> <span class=o>=</span> <span class=n>baby_names</span><span class=p>[(</span><span class=n>baby_names</span><span class=p>[</span><span class=s1>&#39;Year&#39;</span><span class=p>]</span><span class=o>==</span><span class=mi>2000</span><span class=p>)</span><span class=o>&amp;</span><span class=p>(</span><span class=n>baby_names</span><span class=p>[</span><span class=s1>&#39;Count&#39;</span><span class=p>]</span><span class=o>&gt;</span><span class=mi>3000</span><span class=p>)]</span>
</span></span><span class=line><span class=cl><span class=n>result</span><span class=o>.</span><span class=n>head</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p>Optionally, repeat the exercise from above, but this time using the <code>query</code> command from lecture.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>result_using_query</span> <span class=o>=</span> <span class=n>baby_names</span><span class=o>.</span><span class=n>query</span><span class=p>(</span><span class=s1>&#39;Year==2000&amp;Count&gt;3000&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>result_using_query</span><span class=o>.</span><span class=n>head</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=question-6>Question 6</h2><p>Some names gain/lose popularity because of cultural phenomena such as a political figure coming to power. Below, we plot the popularity of the female name Hillary in Calfiornia over time. What do you notice about this plot? What might be the cause of the steep drop?</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>hillary_baby_name</span> <span class=o>=</span> <span class=n>baby_names</span><span class=p>[(</span><span class=n>baby_names</span><span class=p>[</span><span class=s1>&#39;Name&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;Hillary&#39;</span><span class=p>)</span> <span class=o>&amp;</span> <span class=p>(</span><span class=n>baby_names</span><span class=p>[</span><span class=s1>&#39;State&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;CA&#39;</span><span class=p>)</span> <span class=o>&amp;</span> <span class=p>(</span><span class=n>baby_names</span><span class=p>[</span><span class=s1>&#39;Sex&#39;</span><span class=p>]</span> <span class=o>==</span> <span class=s1>&#39;F&#39;</span><span class=p>)]</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>plot</span><span class=p>(</span><span class=n>hillary_baby_name</span><span class=p>[</span><span class=s1>&#39;Year&#39;</span><span class=p>],</span> <span class=n>hillary_baby_name</span><span class=p>[</span><span class=s1>&#39;Count&#39;</span><span class=p>])</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>title</span><span class=p>(</span><span class=s2>&#34;Hillary Popularity Over Time&#34;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>xlabel</span><span class=p>(</span><span class=s1>&#39;Year&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>ylabel</span><span class=p>(</span><span class=s1>&#39;Count&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=n>plt</span><span class=o>.</span><span class=n>show</span><span class=p>()</span>
</span></span></code></pre></td></tr></table></div></div><p><img src=/plot/lab03_q6.png alt=lab03_q6></p></div><div class=post-copyright><p class=copyright-item><span class=item-title>Author</span>
<span class=item-content>Alias</span></p><p class=copyright-item><span class=item-title>LastMod</span>
<span class=item-content>2022-11-16</span></p></div><footer class=post-footer><div class=post-tags><a href=/tags/pandas/>Pandas</a>
<a href=/tags/dataframe/>DataFrame</a>
<a href=/tags/writeup/>Writeup</a></div><nav class=post-nav><a class=prev href=/post/ds100_lab04/><i class="iconfont icon-left"></i>
<span class="prev-text nav-default">Lab04_WriteUp</span>
<span class="prev-text nav-mobile">Prev</span></a>
<a class=next href=/post/count-complete-tree-nodes/><span class="next-text nav-default">Count Complete Tree Nodes</span>
<span class="next-text nav-mobile">Next</span>
<i class="iconfont icon-right"></i></a></nav></footer></article></div><script src=https://utteranc.es/client.js repo=noahlias/noahlias.github.io issue-term=pathname theme=github-light crossorigin=anonymous async></script><noscript>Please enable JavaScript to view the <a href=https://github.com/utterance>comments powered by utterances.</a></noscript></div></main><footer id=footer class=footer><div class=social-links><a href=https://www.github.com/noahlias class="iconfont icon-github" title=github></a>
<a href=https://weibo.com/Alias21 class="iconfont icon-weibo" title=weibo></a>
<a href=https://space.bilibili.com/1741799 class="iconfont icon-bilibili" title=bilibili></a>
<a href=https://noahlias.github.io/index.xml type=application/rss+xml class="iconfont icon-rss" title=rss></a></div><div class=copyright><span class=power-by>Powered by <a class=hexo-link href=https://gohugo.io>Hugo</a></span>
<span class=division>|</span>
<span class=theme-info>Theme -
<a class=theme-link href=https://github.com/olOwOlo/hugo-theme-even>Even</a></span>
<span class=copyright-year>&copy;
2022 -
2023<span class=heart><i class="iconfont icon-heart"></i></span><span>Alias</span></span></div></footer><div class=back-to-top id=back-to-top><i class="iconfont icon-up"></i></div></div><script src=https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin=anonymous></script>
<script src=https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin=anonymous></script>
<script type=text/javascript src=/js/main.min.4ae89da218555efa0e7093a20b92017d2e1202b66fff9fc2edf4cb8d44b44c6e.js></script>
<script type=text/javascript>window.MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]]}}</script><script async src=https://cdn.jsdelivr.net/npm/mathjax@3.0.5/es5/tex-mml-chtml.js integrity="sha256-HGLuEfFcsUJGhvB8cQ8nr0gai9EucOOaIxFw7qxmd+w=" crossorigin=anonymous></script></body></html>